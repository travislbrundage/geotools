<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Using Git &mdash; GeoTools 13-SNAPSHOT User Guide</title>
    
    <link rel="stylesheet" href="../_static/geotools.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '13-SNAPSHOT',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="GeoTools 13-SNAPSHOT User Guide" href="../index.html" />
    <link rel="up" title="Building" href="index.html" />
    <link rel="next" title="Building FAQ" href="faq.html" />
    <link rel="prev" title="Remote Repositories" href="maven/repositories.html" /> 
  </head>
  <body role="document">
    <div class="header">
        <div class="wrap">
            <h1 id="logo"><a href="http://geotools.org">GeoTools</a></h1>
            <h1 id="logo_osgeo"><a href="http://osgeo.org">OSGeo</a></h1>
            <ul id="top-nav">
                <li class="first"><a href="http://docs.geotools.org">Documentation</a></li>
                <li><a href="http://sourceforge.net/projects/geotools/files">Downloads</a></li>
                <li><a href="http://docs.codehaus.org/display/GEOTOOLS/Home">Wiki</a></li>
                <li><a href="http://geotools.org/about.html">About</a></li>
                <li><a href="http://geotoolsnews.blogspot.com">Blog</a></li>
            </ul>
            <!--div id="searchbox">
                <form class="search" action="../search.html" method="get">
                    <input id="searchbox-query" type="text" name="q" size="25" value="Search &hellip;" tabindex="3" onblur="if(this.value=='') this.value='Search &hellip;';" onfocus="if(this.value=='Search &hellip;') this.value='';" />
                    <input id="searchbox-submit" type="image" value="Search" src="../_static/img/search_icon_green.png" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
            </div-->
        </div>
    </div>

    <div class="related">
      <ul id="breadcrumbs">
        <li><a href="../index.html">GeoTools 13-SNAPSHOT User Guide</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Building</a> &raquo;</li>
        <li><a href="#">Using Git</a></li>
      </ul>
    </div> 

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Using Git</a><ul>
<li><a class="reference internal" href="#git-repository">Git Repository</a></li>
<li><a class="reference internal" href="#typical-development-environment">Typical Development Environment</a></li>
<li><a class="reference internal" href="#git-workflow">Git Workflow</a></li>
<li><a class="reference internal" href="#ignoring-files">Ignoring Files</a></li>
<li><a class="reference internal" href="#reverting-changes">Reverting Changes</a></li>
<li><a class="reference internal" href="#log">Log</a></li>
<li><a class="reference internal" href="#blame">Blame</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="maven/repositories.html"
                        title="previous chapter">Remote Repositories</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="faq.html"
                        title="next chapter">Building FAQ</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/build/git.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="using-git">
<h1>Using Git<a class="headerlink" href="#using-git" title="Permalink to this headline">¶</a></h1>
<p>The following helpful git tips, as so many others, are attributed to IanS and have been stolen from his email.</p>
<div class="section" id="git-repository">
<h2>Git Repository<a class="headerlink" href="#git-repository" title="Permalink to this headline">¶</a></h2>
<p>The GeoTools git repository holds the source code for GeoTools:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/geotools/geotools/">https://github.com/geotools/geotools/</a></li>
</ul>
<p>This repository is setup with the following branches of GeoTools:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Branch</th>
<th class="head">Version</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference external" href="https://github.com/geotools/geotools/tree/master">master</a></td>
<td>this is what we are currently working on</td>
</tr>
<tr class="row-odd"><td><a class="reference external" href="https://github.com/geotools/geotools/tree/8.x">8.x</a></td>
<td>stable development branch</td>
</tr>
<tr class="row-even"><td><a class="reference external" href="https://github.com/geotools/geotools/tree/2.7.x">2.7.x</a></td>
<td>maintenance branch</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="typical-development-environment">
<h2>Typical Development Environment<a class="headerlink" href="#typical-development-environment" title="Permalink to this headline">¶</a></h2>
<p>Typically, a developer will create a local &#8216;geotools&#8217; directory, move into that directory, and do a checkout of the GeoTools repository. Within the
repository switching between branches is trivial:</p>
<div class="highlight-python"><div class="highlight"><pre>[geotools]% git branch
   2.7.x
   8.x
 * master
[geotools]% git checkout master
[geotools]% git checkout 8.x
[geotools]% git checkout 2.7.x
</pre></div>
</div>
<p>Developers generally do most work on a branch, even small scale bug fixes. This is typical with Git since branches are so cheap:</p>
<div class="highlight-python"><div class="highlight"><pre>[geotools]% git checkout -b bugfix master
[geotools]% git branch
   2.7.x
   8.x
 * bugfix
   master
</pre></div>
</div>
<p>A developers repository will usually contain several of these &#8220;feature branches&#8221; but they generally never get pushed into the main/canonical git
repository.</p>
</div>
<div class="section" id="git-workflow">
<h2>Git Workflow<a class="headerlink" href="#git-workflow" title="Permalink to this headline">¶</a></h2>
<p>Git is unlike version control systems such as Subversion and CVS in that commits are always local. It is not until one pushes local commits up
to a repository that they become &#8220;public&#8221;. The basic workflow of a single change in git is:</p>
<ol class="arabic simple">
<li>Make a change</li>
<li>Stage the change</li>
<li>Commit the change</li>
<li>Push the change</li>
</ol>
<p>While extra steps may seem cumbersome at first they are actually very handy in many cases. For example consider making a
documentation change. <code class="docutils literal"><span class="pre">git</span> <span class="pre">status</span></code> gives the current state of the local repository:</p>
<div class="highlight-python"><div class="highlight"><pre>[geotools]% git status
# On branch master
# Changes not staged for commit:
#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)
#
#     modified:   advanced/build/source.rst
#
no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</pre></div>
</div>
<p>Which reports that we have modified a single file but have yet to stage the file for commit. We use <code class="docutils literal"><span class="pre">git</span> <span class="pre">add</span></code> to
stage the file for commit:</p>
<div class="highlight-python"><div class="highlight"><pre>[geotools]% git add advanced/build/source.rst
[geotools]% git status
# On branch master
# Changes to be committed:
#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)
#
#     modified:   advanced/build/source.rst
#
</pre></div>
</div>
<p>Status now reports the file is ready for commit. The syntax of <code class="docutils literal"><span class="pre">git</span> <span class="pre">commit</span></code> is identical to that of Subversion:</p>
<div class="highlight-python"><div class="highlight"><pre>[geotools]% git commit -m &quot;updating documentation for change to git&quot;
</pre></div>
</div>
<p>Doing another status reports no more local changes:</p>
<div class="highlight-python"><div class="highlight"><pre>[geotools]% git status
# On branch master
# Your branch is ahead of &#39;geotools/master&#39; by 1 commit.
#
nothing to commit (working directory clean)
</pre></div>
</div>
<p>But also reports that our local branch is ahead of the remote branch by 1 commit. This is because we have yet to push
the commit. Before pushing it is always a good idea to first pull in case we have any commits that conflict with
other commits that have already been pushed up to the repostory:</p>
<div class="highlight-python"><div class="highlight"><pre>[geotools]% git pull geotools master
[geotools]% git push geotools master
</pre></div>
</div>
<p>At this point the change has been pushed up to the remote git repository.</p>
</div>
<div class="section" id="ignoring-files">
<h2>Ignoring Files<a class="headerlink" href="#ignoring-files" title="Permalink to this headline">¶</a></h2>
<p>Git uses a special file named <code class="docutils literal"><span class="pre">.gitignore</span></code> that contains a list of files and patterns to ignore:</p>
<div class="highlight-python"><div class="highlight"><pre>.project
.classpath
.settings
target
*.patch
*.class
</pre></div>
</div>
<p>These settings ignore files not suitable to be committed into the repository such as eclipse project
files, compiled class files, and patch files.</p>
<p>Typically a <code class="docutils literal"><span class="pre">.gitignore</span></code> file is located in the root of the repository but such a file can be
contained in any project directory.</p>
</div>
<div class="section" id="reverting-changes">
<h2>Reverting Changes<a class="headerlink" href="#reverting-changes" title="Permalink to this headline">¶</a></h2>
<p>How to rollback a change depends on which stage of the workflow the change is at. For changes that have yet to be staged it is
simply a matter of using <code class="docutils literal"><span class="pre">git</span> <span class="pre">checkout</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre>git checkout /path/to/file/to/rollback
</pre></div>
</div>
<p>If the change has been staged but not yet committed:</p>
<div class="highlight-python"><div class="highlight"><pre>git reset HEAD /path/to/file/to/rollback
git checkout /path/to/file/to/rollback
</pre></div>
</div>
<p>If the change has been committed <strong>but not pushed</strong> it gets interesting. If the change to rollback is at the tip of the branch
(ie is the most recent commit) you can use git reset:</p>
<div class="highlight-python"><div class="highlight"><pre>git reset &lt;previous_commit&gt;
</pre></div>
</div>
<p>Where <code class="docutils literal"><span class="pre">previous_commit</span></code> is the commit that is directly before the commit to rollback.</p>
<p>If the change has been committed <strong>but not pushed</strong> and the change is not at the tip of the branch then an interactive
rebase can be used:</p>
<div class="highlight-python"><div class="highlight"><pre>git rebase -i &lt;previous_commit&gt;
</pre></div>
</div>
<p>Where <code class="docutils literal"><span class="pre">previous_commit</span></code> is the commit that is directly before the commit to rollback. An interactive rebase provides
an editor that allows us to delete commits from history. With it we can simply delete the commit(s) we wish to revert
and it will be as if it never happened. Again it is <strong>important</strong> to note that this can only be done on local commits that
have yet to pushed up to a remote repository.</p>
<p>If the change has been committed and pushed up to a remote repository then the only option is to manually roll it back by
applying a revert commit. Thankfully git provides the <code class="docutils literal"><span class="pre">git</span> <span class="pre">revert</span></code> command for just this purposes:</p>
<div class="highlight-python"><div class="highlight"><pre>git revert &lt;commit&gt;
</pre></div>
</div>
<p>Where <code class="docutils literal"><span class="pre">commit</span></code> is the commit we wish to roll back.</p>
</div>
<div class="section" id="log">
<h2>Log<a class="headerlink" href="#log" title="Permalink to this headline">¶</a></h2>
<p>Tells you info about commits/revision history:</p>
<div class="highlight-python"><div class="highlight"><pre>git log
</pre></div>
</div>
</div>
<div class="section" id="blame">
<h2>Blame<a class="headerlink" href="#blame" title="Permalink to this headline">¶</a></h2>
<p>My favourite. Annotates a document with who changed what and when:</p>
<div class="highlight-python"><div class="highlight"><pre>git blame Sample.java
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <ul id="breadcrumbs">
            <li class="right" style="margin-right: 10px">
              <a href="faq.html" title="Building FAQ"
                 accesskey="N">next</a></li>
            <li class="right" >
              <a href="maven/repositories.html" title="Remote Repositories"
                 accesskey="P">previous</a> |</li>
        <li><a href="../index.html">GeoTools 13-SNAPSHOT User Guide</a> &raquo;</li>
          <li><a href="index.html" >Building</a> &raquo;</li>
        <li><a href="#">Using Git</a></li>
      </ul>
    </div> 

    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, GeoTools.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3b1.
    </div>
  </body>
</html>