<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Maven Testing &mdash; GeoTools 13-SNAPSHOT User Guide</title>
    
    <link rel="stylesheet" href="../../_static/geotools.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '13-SNAPSHOT',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="GeoTools 13-SNAPSHOT User Guide" href="../../index.html" />
    <link rel="up" title="Using Maven" href="index.html" />
    <link rel="next" title="Maven Snapshots" href="snapshots.html" />
    <link rel="prev" title="Maven Tips" href="tips.html" /> 
  </head>
  <body role="document">
    <div class="header">
        <div class="wrap">
            <h1 id="logo"><a href="http://geotools.org">GeoTools</a></h1>
            <h1 id="logo_osgeo"><a href="http://osgeo.org">OSGeo</a></h1>
            <ul id="top-nav">
                <li class="first"><a href="http://docs.geotools.org">Documentation</a></li>
                <li><a href="http://sourceforge.net/projects/geotools/files">Downloads</a></li>
                <li><a href="http://docs.codehaus.org/display/GEOTOOLS/Home">Wiki</a></li>
                <li><a href="http://geotools.org/about.html">About</a></li>
                <li><a href="http://geotoolsnews.blogspot.com">Blog</a></li>
            </ul>
            <!--div id="searchbox">
                <form class="search" action="../../search.html" method="get">
                    <input id="searchbox-query" type="text" name="q" size="25" value="Search &hellip;" tabindex="3" onblur="if(this.value=='') this.value='Search &hellip;';" onfocus="if(this.value=='Search &hellip;') this.value='';" />
                    <input id="searchbox-submit" type="image" value="Search" src="../../_static/img/search_icon_green.png" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
            </div-->
        </div>
    </div>

    <div class="related">
      <ul id="breadcrumbs">
        <li><a href="../../index.html">GeoTools 13-SNAPSHOT User Guide</a> &raquo;</li>
          <li><a href="../index.html" >Building</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Using Maven</a> &raquo;</li>
        <li><a href="#">Maven Testing</a></li>
      </ul>
    </div> 

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Maven Testing</a><ul>
<li><a class="reference internal" href="#logging">Logging</a></li>
<li><a class="reference internal" href="#run-a-single-test">Run a Single Test</a></li>
<li><a class="reference internal" href="#online-testing">Online Testing</a></li>
<li><a class="reference internal" href="#image-tests">Image tests</a></li>
<li><a class="reference internal" href="#interactive-tests">Interactive Tests</a></li>
<li><a class="reference internal" href="#stress-testing">Stress Testing</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tips.html"
                        title="previous chapter">Maven Tips</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="snapshots.html"
                        title="next chapter">Maven Snapshots</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/build/maven/testing.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="maven-testing">
<h1>Maven Testing<a class="headerlink" href="#maven-testing" title="Permalink to this headline">¶</a></h1>
<p>To just run tests for a module:</p>
<div class="highlight-python"><div class="highlight"><pre>cd modules/library/main
mvn test
</pre></div>
</div>
<p>Several of the &#8220;profiles&#8221; described on this page can be used on conjuction:</p>
<div class="highlight-python"><div class="highlight"><pre>mvn test -o -P interactive,stress
</pre></div>
</div>
<div class="section" id="logging">
<h2>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h2>
<p>By default logging information is considered a test result:</p>
<ul class="simple">
<li>the logs from testing end up in target/surefire-reports sub-directory of each module</li>
<li>There should be XML and TXT files for the results of each test. Be sure to check both, as one of the wrinkles of maven makes it so the output isn&#8217;t always exactly the same.</li>
</ul>
</div>
<div class="section" id="run-a-single-test">
<h2>Run a Single Test<a class="headerlink" href="#run-a-single-test" title="Permalink to this headline">¶</a></h2>
<p>To run a single test:</p>
<div class="highlight-python"><div class="highlight"><pre>mvn -Dtest=Rendering2DTest test
</pre></div>
</div>
<p>If you are having problems with logging output levels be sure to read the logging section under coding conventions.</p>
</div>
<div class="section" id="online-testing">
<h2>Online Testing<a class="headerlink" href="#online-testing" title="Permalink to this headline">¶</a></h2>
<p>Many tests require an online resource to run such as a remote server.</p>
<p>These tests are excluded from the default build as often these online resources are not available and as a result case tests to fail.</p>
<p>The naming convention for these tests is to name them as &#8220;OnlineTest&#8221;.</p>
<p>Examples:</p>
<ul class="simple">
<li>PostgisDataStoreAPIOnlineTest.java</li>
<li>WMS1_0_0_OnlineTest.java</li>
</ul>
<ol class="arabic">
<li><p class="first">To execute online tests during a build, the online profiles is used:</p>
<div class="highlight-python"><div class="highlight"><pre>mvn test -P online
</pre></div>
</div>
</li>
<li><p class="first">Additionally many of these online tests depend on test fixtures (i.e. connection parameters) being supplied describing the server to connect to.</p>
</li>
<li><p class="first">The first time you run they will often create a series of &#8220;example&#8221; test fixtures</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">~/.geotools/postgis.properties.example</span></code></li>
<li><code class="docutils literal"><span class="pre">~/.geotools/db2.properties.example</span></code></li>
<li><code class="docutils literal"><span class="pre">~/.geotools/wps.properties.example</span></code></li>
</ul>
</li>
<li><p class="first">Rename one of the files to not end with &#8220;example&#8221; (i.e. rename to postgis.properties)</p>
</li>
<li><p class="first">edit the file to fill in the connection parameters for the server you are testing against, and save.</p>
</li>
<li><p class="first">You can now run the online test against your server</p>
<ul class="simple">
<li>Note many of the database tests are good and create a table, perform a test, and then remove the table when finished.</li>
</ul>
</li>
</ol>
<p>For more information on the use of these &#8220;test fixture&#8221; files please see the project contentions section on online tests.</p>
</div>
<div class="section" id="image-tests">
<h2>Image tests<a class="headerlink" href="#image-tests" title="Permalink to this headline">¶</a></h2>
<p>Some tests in raster and rendering handling needs to compare images using a human perception model instead of a raw pixel by pixel comparison. To do this we use <a class="reference external" href="http://pdiff.sourceforge.net/">&#8220;PerceptualDiff&#8221;</a>, an open source command line tool that can do this kind of comparison.</p>
<p>In order for those tests to run PerceptualDiff needs to be installed in your computer, and added in the PATH of your execution environment (if you are on a Debian based distribution all that is needed to achieve that is &#8216;&#8217;sudo apt-get install perceptualdiff&#8217;&#8216;).</p>
<p>If these tests are failing you can also have the system show you the expected and actual image in a GUI popup, to enable it you&#8217;ll have to use the following profile:</p>
<div class="highlight-python"><div class="highlight"><pre>mvn test -P interactive.image
</pre></div>
</div>
<p>If PerceptualDiff is not installed the tests will be skipped and a message notifying the lack of PerceptualDiff in the PATH will be printed.</p>
</div>
<div class="section" id="interactive-tests">
<h2>Interactive Tests<a class="headerlink" href="#interactive-tests" title="Permalink to this headline">¶</a></h2>
<p>Some tests (particularly of rendering technology) like to pop up images and the practice drawing.</p>
<p>To run these tests:</p>
<div class="highlight-python"><div class="highlight"><pre>mvn test -P interactive
</pre></div>
</div>
</div>
<div class="section" id="stress-testing">
<h2>Stress Testing<a class="headerlink" href="#stress-testing" title="Permalink to this headline">¶</a></h2>
<p>Stress tests can roughly be defined as tests that do not add much test coverage to a module, and take a extended amount of time to run.</p>
<p>These tests are excluded from the default build as they are time consuming. The naming convention for these tests is to name them as StressTest.</p>
<p>Examples:</p>
<ul class="simple">
<li>GMLParserStressTest.java</li>
<li>WFSIonicStressTest.java</li>
</ul>
<p>To execute stress tests during a build, the stress profiles is used:</p>
<div class="highlight-python"><div class="highlight"><pre>mvn test -P stress
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <ul id="breadcrumbs">
            <li class="right" style="margin-right: 10px">
              <a href="snapshots.html" title="Maven Snapshots"
                 accesskey="N">next</a></li>
            <li class="right" >
              <a href="tips.html" title="Maven Tips"
                 accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">GeoTools 13-SNAPSHOT User Guide</a> &raquo;</li>
          <li><a href="../index.html" >Building</a> &raquo;</li>
          <li><a href="index.html" >Using Maven</a> &raquo;</li>
        <li><a href="#">Maven Testing</a></li>
      </ul>
    </div> 

    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, GeoTools.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3b1.
    </div>
  </body>
</html>