<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>GrassRaster Plugin &mdash; GeoTools 13-SNAPSHOT User Guide</title>
    
    <link rel="stylesheet" href="../../_static/geotools.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '13-SNAPSHOT',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="GeoTools 13-SNAPSHOT User Guide" href="../../index.html" />
    <link rel="up" title="Coverage" href="index.html" />
    <link rel="next" title="GTOPO30 Plugin" href="gtopo30.html" />
    <link rel="prev" title="GeoTIFF Plugin" href="geotiff.html" /> 
  </head>
  <body role="document">
    <div class="header">
        <div class="wrap">
            <h1 id="logo"><a href="http://geotools.org">GeoTools</a></h1>
            <h1 id="logo_osgeo"><a href="http://osgeo.org">OSGeo</a></h1>
            <ul id="top-nav">
                <li class="first"><a href="http://docs.geotools.org">Documentation</a></li>
                <li><a href="http://sourceforge.net/projects/geotools/files">Downloads</a></li>
                <li><a href="http://docs.codehaus.org/display/GEOTOOLS/Home">Wiki</a></li>
                <li><a href="http://geotools.org/about.html">About</a></li>
                <li><a href="http://geotoolsnews.blogspot.com">Blog</a></li>
            </ul>
            <!--div id="searchbox">
                <form class="search" action="../../search.html" method="get">
                    <input id="searchbox-query" type="text" name="q" size="25" value="Search &hellip;" tabindex="3" onblur="if(this.value=='') this.value='Search &hellip;';" onfocus="if(this.value=='Search &hellip;') this.value='';" />
                    <input id="searchbox-submit" type="image" value="Search" src="../../_static/img/search_icon_green.png" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
            </div-->
        </div>
    </div>

    <div class="related">
      <ul id="breadcrumbs">
        <li><a href="../../index.html">GeoTools 13-SNAPSHOT User Guide</a> &raquo;</li>
          <li><a href="../index.html" >Library</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Coverage</a> &raquo;</li>
        <li><a href="#">GrassRaster Plugin</a></li>
      </ul>
    </div> 

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">GrassRaster Plugin</a></li>
<li><a class="reference internal" href="#data-structure-of-a-rastermap">Data structure of a rastermap</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="geotiff.html"
                        title="previous chapter">GeoTIFF Plugin</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="gtopo30.html"
                        title="next chapter">GTOPO30 Plugin</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/library/coverage/grassraster.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="grassraster-plugin">
<h1>GrassRaster Plugin<a class="headerlink" href="#grassraster-plugin" title="Permalink to this headline">¶</a></h1>
<p>The module supplies support for reading and writing GRASS rasters. The metadata contain both the
colortable and the categories (if available) of the raster map. The original colortable of the
GRASS raster is read into the geotools coverage Categories and can as such be visualized
if using a default styler.</p>
<p><strong>Maven</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;dependency&gt;
  &lt;groupId&gt;org.geotools&lt;/groupId&gt;
  &lt;artifactId&gt;gt-grassraster&lt;/artifactId&gt;
  &lt;version&gt;${geotools.version}&lt;/version&gt;
&lt;/dependency&gt;
</pre></div>
</div>
</div>
<div class="section" id="data-structure-of-a-rastermap">
<h1>Data structure of a rastermap<a class="headerlink" href="#data-structure-of-a-rastermap" title="Permalink to this headline">¶</a></h1>
<p>Raster data in GRASS are stricktly bound to their workspace. Since a workspace is something more on userlevel, I will from now on use grass database for the folder structure and workspce for what the user will interact with at application level.</p>
<p>A GRASS raster map consists of several files in several subdirectories in a mapset, organized as follows:</p>
<ul class="simple">
<li>cellhd/: map header including projection code, coordinates representing the spatial extent of the raster map, number of rows and columns, resolution, and information about map compression;</li>
<li>cell/, fcell/ or grid3/: generic matrix of values in a compressed, portable format which depends on the raster data type (integer, floating point or 3D grid);</li>
<li>hist/: history file which contains metadata such as the data source, the command that was used to generate the raster map, or other information provided by the user;</li>
<li>cats/: optional category file which contains text or numeric labels assigned to the raster map categories;</li>
<li>colr/: optional color table;</li>
<li>cell_misc/: optional timestamp, range of values, quantization rules (for floating point maps) and null (no-data) files;</li>
<li>WIND: contains the active processing region and the resolution</li>
<li>PROJ_INFO: contains the information about the projection</li>
<li>PROJ_UNITS: contains the information about projection units used</li>
<li>vector/: contain the vector data since GRASS 6</li>
</ul>
</div>
<div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<div class="highlight-java"><div class="highlight"><pre>        
        <span class="cm">/*</span>
<span class="cm">         * read a grassraster given the bounds and the number of rows and cols. </span>
<span class="cm">         */</span>
        <span class="c1">// prepare the parameters</span>
        <span class="n">GeneralParameterValue</span><span class="o">[]</span> <span class="n">readParams</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GeneralParameterValue</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
        <span class="n">Parameter</span><span class="o">&lt;</span><span class="n">GridGeometry2D</span><span class="o">&gt;</span> <span class="n">readGG</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Parameter</span><span class="o">&lt;</span><span class="n">GridGeometry2D</span><span class="o">&gt;(</span><span class="n">AbstractGridFormat</span><span class="o">.</span><span class="na">READ_GRIDGEOMETRY2D</span><span class="o">);</span>
        <span class="n">GridEnvelope2D</span> <span class="n">gridEnvelope</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GridEnvelope2D</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">cols</span><span class="o">,</span> <span class="n">rows</span><span class="o">);</span>
        <span class="n">ReferencedEnvelope</span> <span class="n">env</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ReferencedEnvelope</span><span class="o">(</span><span class="n">w</span><span class="o">,</span> <span class="n">e</span><span class="o">,</span> <span class="n">s</span><span class="o">,</span> <span class="n">n</span><span class="o">,</span> <span class="n">crs</span><span class="o">);</span>
        <span class="n">readGG</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="k">new</span> <span class="n">GridGeometry2D</span><span class="o">(</span><span class="n">gridEnvelope</span><span class="o">,</span> <span class="n">env</span><span class="o">));</span>
        <span class="n">readParams</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">readGG</span><span class="o">;</span>
        <span class="c1">// do the reading</span>
        <span class="n">AbstractGridFormat</span> <span class="n">format</span> <span class="o">=</span> <span class="o">(</span><span class="n">AbstractGridFormat</span><span class="o">)</span> <span class="k">new</span> <span class="n">GrassCoverageFormatFactory</span><span class="o">().</span><span class="na">createFormat</span><span class="o">();</span>
        <span class="n">GridCoverageReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="n">format</span><span class="o">.</span><span class="na">getReader</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
        <span class="n">GridCoverage2D</span> <span class="n">gc</span> <span class="o">=</span> <span class="o">((</span><span class="n">GridCoverage2D</span><span class="o">)</span> <span class="n">reader</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">readParams</span><span class="o">));</span>
        
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <ul id="breadcrumbs">
            <li class="right" style="margin-right: 10px">
              <a href="gtopo30.html" title="GTOPO30 Plugin"
                 accesskey="N">next</a></li>
            <li class="right" >
              <a href="geotiff.html" title="GeoTIFF Plugin"
                 accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">GeoTools 13-SNAPSHOT User Guide</a> &raquo;</li>
          <li><a href="../index.html" >Library</a> &raquo;</li>
          <li><a href="index.html" >Coverage</a> &raquo;</li>
        <li><a href="#">GrassRaster Plugin</a></li>
      </ul>
    </div> 

    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, GeoTools.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3b1.
    </div>
  </body>
</html>